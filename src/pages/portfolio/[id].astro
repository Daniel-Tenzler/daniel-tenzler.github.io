---
import Project from 'src/components/jsx/portfolio/Project/Project';
import { getPortfolioItems } from 'src/data/portfolio/portfolio';
import PortfolioLayout from 'src/layouts/PortfolioLayout.astro';
import GridBackground from 'src/components/jsx/gridBackground/GridBackground/GridBackground';
import { generatePortfolioItemSchema } from 'src/utils/structuredData';
import { SITE_URL } from 'src/consts/SiteData';

export const getStaticPaths = async () => {
  const items = await getPortfolioItems();
  return items.map(item => ({
    params: { id: item.id },
    props: { item },
  }));
};

const { item } = Astro.props;

const structuredData = generatePortfolioItemSchema(item, SITE_URL);
---

<PortfolioLayout title={`${item.title} | Portfolio | Daniel Tenzler`} structuredData={structuredData}>
	<GridBackground client:load />
	<Project client:load item={item} />
</PortfolioLayout> 