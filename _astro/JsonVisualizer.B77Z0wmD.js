import{c as e,j as t}from"./emotion-styled-base.browser.esm.-xjhUz6l.js";import{r}from"./index.CxjelfC8.js";import{P as o}from"./index.DWZk6q9H.js";import{k as a}from"./emotion-react.browser.esm.CH_7YoAw.js";const i=e=>"isFullscreen"!==e,n=a`
	0% {
		opacity: 1;
	}
	70% {
		opacity: 1;
	}
	100% {
		opacity: 0;
	}
`,l=e("div",{shouldForwardProp:i,target:"e1cobull18",label:"Container"})("width:90%;max-width:1600px;height:100%;min-height:calc(100vh - 246px);margin:0 auto;padding:1.5em 0;display:flex;gap:0;align-items:stretch;position:relative;",({isFullscreen:e})=>e&&"\n\t\t\tposition: fixed;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100vh;\n\t\t\tmin-height: 100vh;\n\t\t\tpadding: 0;\n\t\t\tmargin: 0;\n\t\t\tbackground-color: var(--black-1a1a1a);\n\t\t\tz-index: 1000;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: stretch;\n\t\t\tgap: 0;\n\t\t\twidth: 100%;\n\t\t\tmax-width: 100%;\n\t\t","@media (max-width: 768px){flex-direction:column;gap:1.5em;width:95%;}"),s=e("div",{shouldForwardProp:i,target:"e1cobull16",label:"OutputSection"})("flex:1;padding-left:",({isFullscreen:e})=>e?0:"0.5em",";display:flex;flex-direction:column;box-sizing:border-box;min-height:0;height:auto;",({isFullscreen:e})=>e&&"\n\t\t\twidth: auto;\n\t\t\tborder-radius: 0;\n\t\t","@media (max-width: 768px){padding-left:0;width:100%!important;}"),d=e("h3",{target:"e1cobull15",label:"SectionTitle"})({name:"z9puqh",styles:"color:var(--color-text-muted);font-size:1.1rem;font-weight:600;margin:0;text-align:center;padding:0.8em 0 0.4em 0;z-index:1;@media (max-width: 768px){font-size:1rem;padding:0.6em 0 0.3em 0;}"}),c=e(e("div",{shouldForwardProp:i,target:"e1cobull14",label:"BaseContentWrapper"})("display:flex;flex-direction:column;background-color:var(--gray-292929);border-radius:8px;flex:1;min-height:0;overflow:hidden;border:2px solid transparent;transition:background-color 0.2s ease,border-color 0.2s ease;box-sizing:border-box;position:relative;",({isFullscreen:e})=>e&&"\n\t\t\tborder-radius: 0;\n\t\t\tborder: none;\n\t\t",";"),{target:"e1cobull12",label:"OutputContentWrapper"})(),u=e("div",{shouldForwardProp:i,target:"e1cobull10",label:"OutputField"})({name:"kiziu2",styles:"background-color:transparent;color:var(--color-text-emphasis);padding:0.5em 1em 1em 1em;flex:1;width:100%;height:100%;font-size:14px;font-family:'Courier New','Monaco','Consolas',monospace;border:none;box-sizing:border-box;overflow-y:auto;line-height:1.5;white-space:pre-wrap;word-wrap:break-word;min-height:0;@media (max-width: 768px){font-size:13px;height:300px;padding:0.5em 0.8em 0.8em 0.8em;}"}),p=e("div",{target:"e1cobull9",label:"ErrorMessage"})({name:"1yx84x4",styles:"background-color:rgba(220, 38, 38, 0.1);color:var(--color-status-error);padding:0.8em;border-radius:8px;border:1px solid rgba(220, 38, 38, 0.3);font-size:14px;line-height:1.4"}),m=e("div",{target:"e1cobull8",label:"SuccessMessage"})("background-color:rgba(34, 197, 94, 0.1);color:var(--color-status-success);padding:0.75em 1.5em;border-radius:8px;border:1px solid rgba(34, 197, 94, 0.3);font-size:14px;line-height:1.4;",({fading:e})=>e&&`\n\t\t\tanimation: ${n} 2s ease-out forwards;\n\t\t`,";"),b=e("button",{target:"e1cobull7",label:"FormatButton"})({name:"1hjsf",styles:"background-color:var(--gray-383838);color:var(--color-text-muted);padding:0.75em 1.5em;border:none;border-radius:8px;font-weight:500;font-size:0.95rem;cursor:pointer;transition:background-color 0.2s ease,box-shadow 0.2s ease;&:hover{background-color:var(--color-border-light);box-shadow:0px 0px 14px #1418208a;}&:active{background-color:var(--gray-383838);box-shadow:none;}&:focus-visible{outline:2px solid var(--gray-222939);outline-offset:2px;}&:disabled{opacity:0.5;cursor:not-allowed;}@media (max-width: 768px){padding:0.6em 1.2em;font-size:0.9rem;}"}),g=e(b,{target:"e1cobull6",label:"CopyButton"})(),x=e(b,{target:"e1cobull5",label:"ImportButton"})(),h=e("div",{target:"e1cobull4",label:"ButtonsContainer"})({name:"hd0ofj",styles:"display:flex;justify-content:space-between;align-items:center;padding:0.5em 1em;gap:1em;background-color:transparent"}),f=e("div",{target:"e1cobull3",label:"MessagesContainer"})({name:"ytk7mz",styles:"display:flex;justify-content:space-between;align-items:center;padding:0.5em 1em;min-height:3em;gap:1em;background-color:transparent"}),y=e("div",{target:"e1cobull1",label:"SectionHeader"})({name:"xa4rqc",styles:"display:flex;align-items:center;justify-content:center;position:relative;width:100%;min-height:40px"}),v=e("button",{target:"e1cobull0",label:"FullscreenButton"})({name:"rrz5ir",styles:"position:absolute;right:1em;top:50%;transform:translateY(-50%);background:var(--color-border-light);color:var(--color-text-emphasis);border:1px solid var(--gray-404040);border-radius:8px;padding:0.4em 0.9em;font-size:0.85rem;cursor:pointer;transition:background 0.2s ease,border-color 0.2s ease;z-index:2;&:hover{background:var(--gray-404040);border-color:var(--gray-474747);}&:active{background:var(--gray-383838);}&:focus-visible{outline:2px solid var(--color-accent-brand);outline-offset:2px;}"}),w=({initialValue:e})=>{const[o,a]=r.useState(""),[i,n]=r.useState(""),[b,w]=r.useState(""),[j,k]=r.useState(!1),[z,F]=r.useState(""),[C,S]=r.useState(!1),O=e=>{if(!e.trim())return a(""),n(""),void w("");try{const t=JSON.parse(e),r=JSON.stringify(t,null,2);a(r),n(""),w("Valid JSON! Formatted and displayed.")}catch(t){a(""),n(`Invalid JSON: ${t.message}`),w("")}};return r.useEffect(()=>{O(e||"")},[e]),r.useEffect(()=>{if(!b)return void k(!1);const e=setTimeout(()=>{k(!0)},3e3),t=setTimeout(()=>{w(""),k(!1)},5e3);return()=>{clearTimeout(e),clearTimeout(t)}},[b]),r.useEffect(()=>{if(!C)return void(document.body.style.overflow="");const e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[C]),t.jsx(l,{isFullscreen:C,children:t.jsx(s,{isFullscreen:C,children:t.jsxs(c,{isFullscreen:C,children:[t.jsxs(y,{children:[t.jsx(d,{children:"JSON Visualizer"}),t.jsx(v,{type:"button",onClick:()=>{S(e=>!e)},"aria-pressed":C,"aria-label":C?"Exit fullscreen":"Enter fullscreen",children:C?"Exit Fullscreen":"Fullscreen"})]}),t.jsx(u,{isFullscreen:C,children:o||'Click "Import from Clipboard" to paste and format JSON...'}),t.jsxs(f,{children:[i&&t.jsx(p,{id:"json-error",role:"alert",children:i}),b&&t.jsx(m,{id:"json-success",role:"status",fading:j,children:b})]}),t.jsxs(h,{children:[t.jsx(x,{onClick:async()=>{try{const e=await navigator.clipboard.readText();O(e)}catch(e){n("Failed to read from clipboard. Please check permissions."),w("")}},"aria-label":"Import JSON from clipboard",children:"Import from Clipboard"}),t.jsx(g,{onClick:async()=>{if(o)try{await navigator.clipboard.writeText(o),F("Copied!"),setTimeout(()=>F(""),2e3)}catch(e){F("Failed to copy")}},disabled:!o,"aria-label":"Copy Output",children:z||"Copy All"})]})]})})})};w.propTypes={initialValue:o.string};export{w as default};
