import{c as e,j as t}from"./emotion-styled-base.browser.esm.-xjhUz6l.js";import{r as n}from"./index.CxjelfC8.js";import{g as r,C as o}from"./Colors.CMrsPl5M.js";const i=e("canvas",{target:"ecvmv840",label:"Canvas"})({name:"t9u0cu",styles:"position:fixed;top:0;left:0;z-index:-1;pointer-events:none"});function s(){const e=n.useRef(null),s=n.useRef({x:-9999,y:-9999}),a=n.useRef(null),c=n.useRef(0),l=n.useRef(!0),u=n.useCallback(t=>{if(!l.current)return void(a.current=requestAnimationFrame(u));if(t-c.current<33)return void(a.current=requestAnimationFrame(u));c.current=t;const n=e.current;if(!n)return;const i=n.getContext("2d"),{width:m,height:d}=n;i.clearRect(0,0,m,d);const f=.5,h=200,v=r(o.WHITE_BFBFBF,.1),w=s.current.x,b=s.current.y;for(let e=0;e<=m;e+=40){const t=Math.abs(w-e);if(t<h){const n=f+1.5*Math.max(0,1-t/h);i.beginPath(),i.moveTo(e,0),i.lineTo(e,d),i.lineWidth=n,i.strokeStyle=v,i.stroke()}else i.beginPath(),i.moveTo(e,0),i.lineTo(e,d),i.lineWidth=f,i.strokeStyle=v,i.stroke()}for(let e=0;e<=d;e+=40){const t=Math.abs(b-e);if(t<h){const n=f+1.5*Math.max(0,1-t/h);i.beginPath(),i.moveTo(0,e),i.lineTo(m,e),i.lineWidth=n,i.strokeStyle=v,i.stroke()}else i.beginPath(),i.moveTo(0,e),i.lineTo(m,e),i.lineWidth=f,i.strokeStyle=v,i.stroke()}a.current=requestAnimationFrame(u)},[]);return n.useEffect(()=>{const t=e.current;if(!t)return;const n=()=>{t.width=window.innerWidth,t.height=window.innerHeight};let r;n(),"requestIdleCallback"in window?requestIdleCallback(()=>{a.current=requestAnimationFrame(u)}):a.current=requestAnimationFrame(u);const o=()=>{clearTimeout(r),r=setTimeout(()=>{n()},150)};let i=!1;const c=e=>{i||(i=!0,"requestIdleCallback"in window?requestIdleCallback(()=>{s.current={x:e.clientX,y:e.clientY},i=!1}):setTimeout(()=>{s.current={x:e.clientX,y:e.clientY},i=!1},16))},m=new IntersectionObserver(e=>{e.forEach(e=>{l.current=e.isIntersecting})},{threshold:.1});return m.observe(t),window.addEventListener("resize",o),window.addEventListener("mousemove",c),()=>{window.removeEventListener("resize",o),window.removeEventListener("mousemove",c),m.disconnect(),a.current&&cancelAnimationFrame(a.current),r&&clearTimeout(r)}},[u]),t.jsx(i,{ref:e})}export{s as default};
