import{c as e,j as t}from"./emotion-styled-base.browser.esm.-xjhUz6l.js";import{r}from"./index.CxjelfC8.js";import{P as o}from"./index.DWZk6q9H.js";import{B as a}from"./Button.styles._rOhMNT0.js";import{k as i}from"./emotion-react.browser.esm.aCX-lA2o.js";const l=e=>"isFullscreen"!==e,n=i`
	0% {
		opacity: 1;
	}
	70% {
		opacity: 1;
	}
	100% {
		opacity: 0;
	}
`,s=e("div",{shouldForwardProp:l,target:"e1cobull18",label:"Container"})("width:90%;max-width:1600px;height:100%;min-height:calc(100vh - 246px);margin:0 auto;padding:1.5em 0;display:flex;gap:0;align-items:stretch;position:relative;",({isFullscreen:e})=>e&&"\n\t\t\tposition: fixed;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100vh;\n\t\t\tmin-height: 100vh;\n\t\t\tpadding: 0;\n\t\t\tmargin: 0;\n\t\t\tbackground-color: var(--black-1a1a1a);\n\t\t\tz-index: 1000;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: stretch;\n\t\t\tgap: 0;\n\t\t\twidth: 100%;\n\t\t\tmax-width: 100%;\n\t\t","@media (max-width: 768px){flex-direction:column;gap:1.5em;width:95%;}"),d=e("div",{shouldForwardProp:l,target:"e1cobull16",label:"OutputSection"})("flex:1;padding-left:",({isFullscreen:e})=>e?0:"0.5em",";display:flex;flex-direction:column;box-sizing:border-box;min-height:0;height:auto;",({isFullscreen:e})=>e&&"\n\t\t\twidth: auto;\n\t\t\tborder-radius: 0;\n\t\t","@media (max-width: 768px){padding-left:0;width:100%!important;}"),c=e("h3",{target:"e1cobull15",label:"SectionTitle"})({name:"14mmj0l",styles:"color:var(--color-text-muted);font-size:18px;font-weight:600;margin:0;text-align:center;padding:0.8em 0 0.4em 0;z-index:1;@media (max-width: 768px){font-size:16px;padding:0.6em 0 0.3em 0;}"}),u=e(e("div",{shouldForwardProp:l,target:"e1cobull14",label:"BaseContentWrapper"})("display:flex;flex-direction:column;background-color:var(--gray-292929);border-radius:8px;flex:1;min-height:0;overflow:hidden;border:2px solid transparent;transition:background-color 0.2s ease,border-color 0.2s ease;box-sizing:border-box;position:relative;",({isFullscreen:e})=>e&&"\n\t\t\tborder-radius: 0;\n\t\t\tborder: none;\n\t\t",";"),{target:"e1cobull12",label:"OutputContentWrapper"})(),p=e("div",{shouldForwardProp:l,target:"e1cobull10",label:"OutputField"})({name:"kiziu2",styles:"background-color:transparent;color:var(--color-text-emphasis);padding:0.5em 1em 1em 1em;flex:1;width:100%;height:100%;font-size:14px;font-family:'Courier New','Monaco','Consolas',monospace;border:none;box-sizing:border-box;overflow-y:auto;line-height:1.5;white-space:pre-wrap;word-wrap:break-word;min-height:0;@media (max-width: 768px){font-size:13px;height:300px;padding:0.5em 0.8em 0.8em 0.8em;}"}),m=e("div",{target:"e1cobull9",label:"ErrorMessage"})({name:"1yx84x4",styles:"background-color:rgba(220, 38, 38, 0.1);color:var(--color-status-error);padding:0.8em;border-radius:8px;border:1px solid rgba(220, 38, 38, 0.3);font-size:14px;line-height:1.4"}),b=e("div",{target:"e1cobull8",label:"SuccessMessage"})("background-color:rgba(34, 197, 94, 0.1);color:var(--color-status-success);padding:0.75em 1.5em;border-radius:8px;border:1px solid rgba(34, 197, 94, 0.3);font-size:14px;line-height:1.4;",({fading:e})=>e&&`\n\t\t\tanimation: ${n} 2s ease-out forwards;\n\t\t`,";"),g=e(a,{target:"e1cobull7",label:"FormatButton"})({name:"119wbo",styles:"background-color:var(--gray-383838)"}),x=e(g,{target:"e1cobull6",label:"CopyButton"}),h=e(g,{target:"e1cobull5",label:"ImportButton"}),f=e("div",{target:"e1cobull4",label:"ButtonsContainer"})({name:"hd0ofj",styles:"display:flex;justify-content:space-between;align-items:center;padding:0.5em 1em;gap:1em;background-color:transparent"}),y=e("div",{target:"e1cobull3",label:"MessagesContainer"})({name:"ytk7mz",styles:"display:flex;justify-content:space-between;align-items:center;padding:0.5em 1em;min-height:3em;gap:1em;background-color:transparent"}),v=e("div",{target:"e1cobull1",label:"SectionHeader"})({name:"xa4rqc",styles:"display:flex;align-items:center;justify-content:center;position:relative;width:100%;min-height:40px"}),w=e("button",{target:"e1cobull0",label:"FullscreenButton"})({name:"1caua1z",styles:"position:absolute;right:1em;top:50%;transform:translateY(-50%);background:var(--color-border-light);color:var(--color-text-emphasis);border:1px solid var(--gray-404040);border-radius:8px;padding:0.4em 0.9em;font-size:14px;cursor:pointer;transition:background 0.2s ease,border-color 0.2s ease;z-index:2;&:hover{background:var(--gray-404040);border-color:var(--gray-474747);}&:active{background:var(--gray-383838);}&:focus-visible{outline:2px solid var(--color-accent-brand);outline-offset:2px;}"}),j=({initialValue:e})=>{const[o,a]=r.useState(""),[i,l]=r.useState(""),[n,g]=r.useState(""),[j,k]=r.useState(!1),[F,z]=r.useState(""),[C,S]=r.useState(!1),O=e=>{if(!e.trim())return a(""),l(""),void g("");try{const t=JSON.parse(e),r=JSON.stringify(t,null,2);a(r),l(""),g("Valid JSON! Formatted and displayed.")}catch(t){a(""),l(`Invalid JSON: ${t.message}`),g("")}};return r.useEffect(()=>{O(e||"")},[e]),r.useEffect(()=>{if(!n)return void k(!1);const e=setTimeout(()=>{k(!0)},3e3),t=setTimeout(()=>{g(""),k(!1)},5e3);return()=>{clearTimeout(e),clearTimeout(t)}},[n]),r.useEffect(()=>{if(!C)return void(document.body.style.overflow="");const e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[C]),t.jsx(s,{isFullscreen:C,children:t.jsx(d,{isFullscreen:C,children:t.jsxs(u,{isFullscreen:C,children:[t.jsxs(v,{children:[t.jsx(c,{children:"JSON Visualizer"}),t.jsx(w,{type:"button",onClick:()=>{S(e=>!e)},"aria-pressed":C,"aria-label":C?"Exit fullscreen":"Enter fullscreen",children:C?"Exit Fullscreen":"Fullscreen"})]}),t.jsx(p,{isFullscreen:C,children:o||'Click "Import from Clipboard" to paste and format JSON...'}),t.jsxs(y,{children:[i&&t.jsx(m,{id:"json-error",role:"alert",children:i}),n&&t.jsx(b,{id:"json-success",role:"status",fading:j,children:n})]}),t.jsxs(f,{children:[t.jsx(h,{onClick:async()=>{try{const e=await navigator.clipboard.readText();O(e)}catch(e){l("Failed to read from clipboard. Please check permissions."),g("")}},"aria-label":"Import JSON from clipboard",children:"Import from Clipboard"}),t.jsx(x,{onClick:async()=>{if(o)try{await navigator.clipboard.writeText(o),z("Copied!"),setTimeout(()=>z(""),2e3)}catch(e){z("Failed to copy")}},disabled:!o,"aria-label":"Copy Output",children:F||"Copy All"})]})]})})})};j.propTypes={initialValue:o.string};export{j as default};
