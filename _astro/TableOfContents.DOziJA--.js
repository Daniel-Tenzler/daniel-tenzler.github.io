import{c as e,j as t}from"./emotion-styled-base.browser.esm.-xjhUz6l.js";import{r}from"./index.CxjelfC8.js";import{P as i}from"./index.DWZk6q9H.js";const a=e("nav",{target:"eb5wgz83",label:"TOCContainer"})({name:"1tezbza",styles:"align-self:start;max-height:calc(100vh - 128px);overflow-y:auto;padding:24px 24px 24px 8px;background-color:var(--gray-303030-cc);backdrop-filter:blur(10px);border:1px solid var(--gray-60739f-33);border-radius:16px;box-shadow:0 4px 6px var(--black-0f1219-1a);@media (max-width: 768px){align-self:stretch;max-height:40vh;padding:16px;margin:0 0 16px 0;border-radius:12px;}@media (max-width: 480px){max-height:35vh;padding:12px;border-radius:8px;}"}),o=e("ul",{target:"eb5wgz82",label:"TOCList"})({name:"v5al3",styles:"list-style:none;padding:0;margin:0"}),n=e("li",{target:"eb5wgz81",label:"TOCItem"})("margin-bottom:8px;padding-left:",e=>1*(e.depth-1),"rem;@media (max-width: 768px){margin-bottom:6px;padding-left:",e=>.75*(e.depth-1),"rem;}"),s=e("a",{target:"eb5wgz80",label:"TOCLink"})("display:block;font-size:14px;color:",e=>e.isActive?"var(--color-text-emphasis)":"var(--white-bfbfbf-b3)",";text-decoration:none;transition:color 0.2s ease;line-height:1.4;&:hover{color:var(--color-text-muted);}@media (max-width: 768px){font-size:13px;line-height:1.3;padding:4px 0;}");function d({headings:e}){const[i,d]=r.useState("");r.useEffect(()=>{const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&d(e.target.id)})},{rootMargin:"0px 0px -80% 0px"});return e.forEach(e=>{const r=document.getElementById(e.slug);r&&t.observe(r)}),()=>{e.forEach(e=>{const r=document.getElementById(e.slug);r&&t.unobserve(r)})}},[e]);return e&&0!==e.length?t.jsx(a,{children:t.jsx(o,{children:e.map(e=>t.jsx(n,{depth:e.depth,children:t.jsx(s,{href:`#${e.slug}`,isActive:i===e.slug,onClick:t=>((e,t)=>{e.preventDefault();const r=document.getElementById(t);if(r){const e=r.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:e,behavior:"smooth"}),window.history.pushState(null,null,`#${t}`),d(t)}})(t,e.slug),children:e.text})},e.slug))})}):null}d.propTypes={headings:i.arrayOf(i.shape({depth:i.number.isRequired,slug:i.string.isRequired,text:i.string.isRequired})).isRequired};export{d as default};
