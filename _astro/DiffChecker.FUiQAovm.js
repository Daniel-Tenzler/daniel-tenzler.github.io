import{c as e,j as t}from"./emotion-styled-base.browser.esm.-xjhUz6l.js";import{r as n}from"./index.CxjelfC8.js";class o{diff(e,t,n={}){let o;"function"==typeof n?(o=n,n={}):"callback"in n&&(o=n.callback);const r=this.castInput(e,n),l=this.castInput(t,n),a=this.removeEmpty(this.tokenize(r,n)),i=this.removeEmpty(this.tokenize(l,n));return this.diffWithOptionsObj(a,i,n,o)}diffWithOptionsObj(e,t,n,o){var r;const l=e=>(e=this.postProcess(e,n),o?void setTimeout(function(){o(e)},0):e),a=t.length,i=e.length;let s=1,d=a+i;null!=n.maxEditLength&&(d=Math.min(d,n.maxEditLength));const c=null!==(r=n.timeout)&&void 0!==r?r:1/0,u=Date.now()+c,p=[{oldPos:-1,lastComponent:void 0}];let h=this.extractCommon(p[0],t,e,0,n);if(p[0].oldPos+1>=i&&h+1>=a)return l(this.buildValues(p[0].lastComponent,t,e));let g=-1/0,m=1/0;const x=()=>{for(let o=Math.max(g,-s);o<=Math.min(m,s);o+=2){let r;const s=p[o-1],d=p[o+1];s&&(p[o-1]=void 0);let c=!1;if(d){const e=d.oldPos-o;c=d&&0<=e&&e<a}const u=s&&s.oldPos+1<i;if(c||u){if(r=!u||c&&s.oldPos<d.oldPos?this.addToPath(d,!0,!1,0,n):this.addToPath(s,!1,!0,1,n),h=this.extractCommon(r,t,e,o,n),r.oldPos+1>=i&&h+1>=a)return l(this.buildValues(r.lastComponent,t,e))||!0;p[o]=r,r.oldPos+1>=i&&(m=Math.min(m,o-1)),h+1>=a&&(g=Math.max(g,o+1))}else p[o]=void 0}s++};if(o)!function e(){setTimeout(function(){if(s>d||Date.now()>u)return o(void 0);x()||e()},0)}();else for(;s<=d&&Date.now()<=u;){const e=x();if(e)return e}}addToPath(e,t,n,o,r){const l=e.lastComponent;return l&&!r.oneChangePerToken&&l.added===t&&l.removed===n?{oldPos:e.oldPos+o,lastComponent:{count:l.count+1,added:t,removed:n,previousComponent:l.previousComponent}}:{oldPos:e.oldPos+o,lastComponent:{count:1,added:t,removed:n,previousComponent:l}}}extractCommon(e,t,n,o,r){const l=t.length,a=n.length;let i=e.oldPos,s=i-o,d=0;for(;s+1<l&&i+1<a&&this.equals(n[i+1],t[s+1],r);)s++,i++,d++,r.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return d&&!r.oneChangePerToken&&(e.lastComponent={count:d,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=i,s}equals(e,t,n){return n.comparator?n.comparator(e,t):e===t||!!n.ignoreCase&&e.toLowerCase()===t.toLowerCase()}removeEmpty(e){const t=[];for(let n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}castInput(e,t){return e}tokenize(e,t){return Array.from(e)}join(e){return e.join("")}postProcess(e,t){return e}get useLongestToken(){return!1}buildValues(e,t,n){const o=[];let r;for(;e;)o.push(e),r=e.previousComponent,delete e.previousComponent,e=r;o.reverse();const l=o.length;let a=0,i=0,s=0;for(;a<l;a++){const e=o[a];if(e.removed)e.value=this.join(n.slice(s,s+e.count)),s+=e.count;else{if(!e.added&&this.useLongestToken){let o=t.slice(i,i+e.count);o=o.map(function(e,t){const o=n[s+t];return o.length>e.length?o:e}),e.value=this.join(o)}else e.value=this.join(t.slice(i,i+e.count));i+=e.count,e.added||(s+=e.count)}}return o}}const r=new class extends o{};function l(e,t){let n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function a(e,t){let n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function i(e,t,n){if(e.slice(0,t.length)!=t)throw Error(`string ${JSON.stringify(e)} doesn't start with prefix ${JSON.stringify(t)}; this is a bug`);return n+e.slice(t.length)}function s(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error(`string ${JSON.stringify(e)} doesn't end with suffix ${JSON.stringify(t)}; this is a bug`);return e.slice(0,-t.length)+n}function d(e,t){return i(e,t,"")}function c(e,t){return s(e,t,"")}function u(e,t){return t.slice(0,function(e,t){let n=0;e.length>t.length&&(n=e.length-t.length);let o=t.length;e.length<t.length&&(o=e.length);const r=Array(o);let l=0;r[0]=0;for(let a=1;a<o;a++){for(t[a]==t[l]?r[a]=r[l]:r[a]=l;l>0&&t[a]!=t[l];)l=r[l];t[a]==t[l]&&l++}l=0;for(let a=n;a<e.length;a++){for(;l>0&&e[a]!=t[l];)l=r[l];e[a]==t[l]&&l++}return l}(e,t))}function p(e){let t;for(t=e.length-1;t>=0&&e[t].match(/\s/);t--);return e.substring(t+1)}function h(e){const t=e.match(/^\s*/);return t?t[0]:""}const g="a-zA-Z0-9_\\u{AD}\\u{C0}-\\u{D6}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",m=new RegExp(`[${g}]+|\\s+|[^${g}]`,"ug");const x=new class extends o{equals(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()}tokenize(e,t={}){let n;if(t.intlSegmenter){const o=t.intlSegmenter;if("word"!=o.resolvedOptions().granularity)throw new Error('The segmenter passed must have a granularity of "word"');n=[];for(const t of Array.from(o.segment(e))){const e=t.segment;n.length&&/\s/.test(n[n.length-1])&&/\s/.test(e)?n[n.length-1]+=e:n.push(e)}}else n=e.match(m)||[];const o=[];let r=null;return n.forEach(e=>{/\s/.test(e)?null==r?o.push(e):o.push(o.pop()+e):null!=r&&/\s/.test(r)?o[o.length-1]==r?o.push(o.pop()+e):o.push(r+e):o.push(e),r=e}),o}join(e){return e.map((e,t)=>0==t?e:e.replace(/^\s+/,"")).join("")}postProcess(e,t){if(!e||t.oneChangePerToken)return e;let n=null,o=null,r=null;return e.forEach(e=>{e.added?o=e:e.removed?r=e:((o||r)&&f(n,r,o,e),n=e,o=null,r=null)}),(o||r)&&f(n,r,o,null),e}};function f(e,t,n,o){if(t&&n){const r=h(t.value),u=p(t.value),g=h(n.value),m=p(n.value);if(e){const o=l(r,g);e.value=s(e.value,g,o),t.value=d(t.value,o),n.value=d(n.value,o)}if(o){const e=a(u,m);o.value=i(o.value,m,e),t.value=c(t.value,e),n.value=c(n.value,e)}}else if(n){if(e){const e=h(n.value);n.value=n.value.substring(e.length)}if(o){const e=h(o.value);o.value=o.value.substring(e.length)}}else if(e&&o){const n=h(o.value),r=h(t.value),u=p(t.value),g=l(n,r);t.value=d(t.value,g);const m=a(d(n,g),u);t.value=c(t.value,m),o.value=i(o.value,n,m),e.value=s(e.value,n,n.slice(0,n.length-m.length))}else if(o){const e=h(o.value),n=u(p(t.value),e);t.value=c(t.value,n)}else if(e){const n=u(p(e.value),h(t.value));t.value=d(t.value,n)}}const v=new class extends o{constructor(){super(...arguments),this.tokenize=b}equals(e,t,n){return n.ignoreWhitespace?(n.newlineIsToken&&e.includes("\n")||(e=e.trim()),n.newlineIsToken&&t.includes("\n")||(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith("\n")&&(e=e.slice(0,-1)),t.endsWith("\n")&&(t=t.slice(0,-1))),super.equals(e,t,n)}};function b(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,"\n"));const n=[],o=e.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(let r=0;r<o.length;r++){const e=o[r];r%2&&!t.newlineIsToken?n[n.length-1]+=e:n.push(e)}return n}const y=e("div",{target:"epzhn9o25",label:"Container"})({name:"1657fwk",styles:"width:90%;max-width:1400px;height:100%;min-height:calc(100vh - 246px);margin:0 auto;padding:1.5em 0;display:flex;flex-direction:column;position:relative;@media (max-width: 768px){width:95%;}"}),w=e("h3",{target:"epzhn9o24",label:"SectionTitle"})({name:"10sc8is",styles:"color:var(--color-text-emphasis);font-size:18px;font-weight:600;margin:0;text-align:center;padding:0.8em 0 0.4em 0;z-index:1;@media (max-width: 768px){font-size:16px;padding:0.6em 0 0.3em 0;}"}),C=e("div",{target:"epzhn9o23",label:"ContentWrapper"})({name:"lz7ad4",styles:"display:flex;flex-direction:column;background-color:var(--gray-292929);border-radius:8px;flex:1;min-height:0;overflow:hidden;border:2px solid transparent;transition:background-color 0.2s ease,border-color 0.2s ease;box-sizing:border-box;position:relative;gap:1em;padding:1em;&:focus-within{border-color:var(--gray-474747);outline:1px solid var(--gray-474747);outline-offset:2px;}@media (max-width: 768px){padding:0.8em;gap:0.8em;}"}),k=e("div",{target:"epzhn9o22",label:"SectionHeader"})({name:"xa4rqc",styles:"display:flex;align-items:center;justify-content:center;position:relative;width:100%;min-height:40px"}),z=e("div",{target:"epzhn9o21",label:"ControlsContainer"})({name:"swomcl",styles:"display:flex;gap:1em;align-items:center;flex-wrap:wrap;padding:1em;background-color:var(--gray-383838);border-radius:8px;border:1px solid var(--gray-474747);@media (max-width: 768px){padding:0.8em;gap:0.8em;}"}),j=e("div",{target:"epzhn9o20",label:"DiffModeToggle"})({name:"g6p6px",styles:"display:flex;gap:0.5em;background-color:var(--gray-292929);padding:0.25em;border-radius:6px;@media (max-width: 480px){flex:1;}"}),P=e("button",{target:"epzhn9o19",label:"ToggleButton"})("padding:0.6em 1em;background-color:transparent;color:var(--color-text-primary);border:none;border-radius:4px;font-weight:500;font-size:13px;cursor:pointer;transition:all 0.2s ease;&:hover{background-color:var(--gray-383838);color:var(--color-text-emphasis);}&:focus-visible{outline:2px solid var(--gray-222939);outline-offset:2px;}",e=>e.active&&"\n\t\tbackground-color: var(--gray-474747);\n\t\tcolor: var(--color-text-emphasis);\n\t\tfont-weight: 600;\n\t","@media (max-width: 768px){font-size:12px;padding:0.5em 0.8em;}@media (max-width: 480px){flex:1;}"),T=e("label",{target:"epzhn9o18",label:"OptionLabel"})({name:"94h31o",styles:"display:flex;align-items:center;gap:0.5em;font-size:13px;color:var(--color-text-primary);font-weight:500;@media (max-width: 768px){font-size:12px;}"}),E=e("input",{target:"epzhn9o17",label:"Checkbox"})({name:"5jvlcc",styles:"width:16px;height:16px;cursor:pointer;accent-color:var(--color-border-light);&:focus-visible{outline:2px solid var(--gray-222939);outline-offset:2px;}"}),D=e("div",{target:"epzhn9o16",label:"InputContainer"})({name:"7xu3m0",styles:"display:grid;grid-template-columns:1fr 1fr;gap:1em;@media (max-width: 768px){grid-template-columns:1fr;}"}),S=e("div",{target:"epzhn9o15",label:"InputColumn"})({name:"9wx7ml",styles:"display:flex;flex-direction:column;gap:0.5em"}),L=e("div",{target:"epzhn9o14",label:"ColumnHeader"})({name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"}),O=e("div",{target:"epzhn9o13",label:"ColumnTitle"})({name:"1omlviw",styles:"font-size:13px;font-weight:600;color:var(--color-text-primary);text-transform:uppercase;letter-spacing:0.05em;@media (max-width: 768px){font-size:12px;}"}),M=e("textarea",{target:"epzhn9o12",label:"Textarea"})({name:"1p9d1v3",styles:"min-height:200px;background-color:var(--gray-383838);color:var(--color-text-emphasis);padding:1em;border:1px solid var(--gray-474747);border-radius:8px;font-size:14px;font-family:'Courier New','Monaco','Consolas',monospace;outline:none;resize:vertical;transition:border-color 0.2s ease,box-shadow 0.2s ease;line-height:1.5;&::placeholder{color:var(--color-text-primary);}&:focus{border-color:var(--color-border-light);box-shadow:0 0 0 2px var(--gray-474747);}@media (max-width: 768px){min-height:150px;font-size:13px;padding:0.8em;}"}),I=e("div",{target:"epzhn9o11",label:"ButtonRow"})({name:"1quxy82",styles:"display:flex;gap:0.5em;justify-content:center"}),N=e("button",{target:"epzhn9o10",label:"CompareButton"})({name:"1xv8on",styles:"background-color:var(--color-border-light);color:var(--color-text-emphasis);padding:0.6em 1.5em;border:none;border-radius:6px;font-weight:600;font-size:14px;cursor:pointer;transition:all 0.2s ease;&:hover{background-color:#3b82f6;}&:active{transform:translateY(1px);}&:focus-visible{outline:2px solid var(--gray-222939);outline-offset:2px;}@media (max-width: 768px){font-size:13px;padding:0.5em 1.2em;}"}),W=e("div",{target:"epzhn9o9",label:"ResultContainer"})({name:"9ddb5d",styles:"display:flex;flex-direction:column;gap:0.5em;max-height:400px;overflow:hidden"}),q=e("div",{target:"epzhn9o8",label:"ResultHeader"})({name:"1vcc3w0",styles:"font-size:13px;font-weight:600;color:var(--color-text-primary);text-transform:uppercase;letter-spacing:0.05em;padding:0.5em 0;@media (max-width: 768px){font-size:12px;}"}),A=e("div",{target:"epzhn9o7",label:"ResultContent"})({name:"1m337ba",styles:"background-color:var(--gray-383838);border:1px solid var(--gray-474747);border-radius:8px;padding:1em;overflow-y:auto;max-height:350px;font-family:'Courier New','Monaco','Consolas',monospace;font-size:13px;line-height:1.6;@media (max-width: 768px){font-size:12px;padding:0.8em;}&::-webkit-scrollbar{width:8px;height:8px;}&::-webkit-scrollbar-track{background:var(--gray-292929);border-radius:4px;}&::-webkit-scrollbar-thumb{background:var(--gray-474747);border-radius:4px;&:hover{background:var(--gray-585858);}}"}),$=e("div",{target:"epzhn9o6",label:"Line"})({name:"1ihlu6l",styles:"display:flex;gap:0.5em;align-items:flex-start;line-height:1.6;&:hover{background-color:var(--gray-474747);}"}),F=e("span",{target:"epzhn9o5",label:"LineNumber"})({name:"2ohu3c",styles:"color:var(--color-text-primary);font-size:11px;min-width:30px;text-align:right;user-select:none;opacity:0.7"}),R=e("span",{target:"epzhn9o4",label:"LineContent"})({name:"17h6g99",styles:"flex:1;white-space:pre-wrap;word-break:break-all"}),J=e("span",{target:"epzhn9o3",label:"Addition"})({name:"1vham2j",styles:"background-color:#16a34a33;color:#4ade80"}),B=e("span",{target:"epzhn9o2",label:"Deletion"})({name:"ep0d0g",styles:"background-color:#dc26261a;color:#f87171;text-decoration:line-through"}),H=e("span",{target:"epzhn9o1",label:"NoChange"})({name:"1kk2hml",styles:"color:var(--color-text-emphasis)"}),V=e("div",{target:"epzhn9o0",label:"ErrorMessage"})({name:"16so7l4",styles:"background-color:#dc26261a;color:var(--color-status-error);padding:0.8em;border-radius:8px;border:1px solid #dc26264d;font-size:14px;line-height:1.4;text-align:center;@media (max-width: 768px){font-size:13px;padding:0.6em;}"}),Y=()=>{const[e,o]=n.useState(""),[l,a]=n.useState(""),[i,s]=n.useState("lines"),[d,c]=n.useState(!1),[u,p]=n.useState(null),[h,g]=n.useState("");return t.jsx(y,{children:t.jsxs(C,{children:[t.jsx(k,{children:t.jsx(w,{children:"Diff Checker"})}),t.jsxs(z,{children:[t.jsxs(j,{children:[t.jsx(P,{active:"lines"===i,onClick:()=>s("lines"),type:"button",children:"Line Diff"}),t.jsx(P,{active:"words"===i,onClick:()=>s("words"),type:"button",children:"Word Diff"}),t.jsx(P,{active:"chars"===i,onClick:()=>s("chars"),type:"button",children:"Char Diff"})]}),t.jsxs(T,{children:[t.jsx(E,{type:"checkbox",checked:d,onChange:e=>c(e.target.checked),id:"ignore-whitespace"}),"Ignore Whitespace"]})]}),h&&t.jsx(V,{role:"alert",children:h}),t.jsxs(D,{children:[t.jsxs(S,{children:[t.jsx(L,{children:t.jsx(O,{children:"Original Text"})}),t.jsx(M,{value:e,onChange:e=>o(e.target.value),placeholder:"Enter original text here...","aria-label":"Original text input",spellCheck:!1})]}),t.jsxs(S,{children:[t.jsx(L,{children:t.jsx(O,{children:"Modified Text"})}),t.jsx(M,{value:l,onChange:e=>a(e.target.value),placeholder:"Enter modified text here...","aria-label":"Modified text input",spellCheck:!1})]})]}),t.jsxs(I,{children:[t.jsx(N,{onClick:()=>{if(!e.trim()||!l.trim())return g("Please enter text in both fields to compare."),void p(null);try{let a,s=e,c=l;d&&(s=s.replace(/\s+/g," ").trim(),c=c.replace(/\s+/g," ").trim()),"lines"===i?(t=s,n=c,a=v.diff(t,n,o)):a="words"===i?function(e,t,n){return x.diff(e,t,n)}(s,c):function(e,t,n){return r.diff(e,t,n)}(s,c),p(a),g("")}catch(a){g(`Error: ${a.message}`),p(null)}var t,n,o},type:"button",children:"Compare"}),t.jsx("button",{onClick:()=>{o(""),a(""),p(null),g("")},type:"button",children:"Clear"})]}),u&&t.jsxs(W,{children:[t.jsx(q,{children:"Diff Result"}),t.jsx(A,{children:(()=>{if(!u||0===u.length)return t.jsx("div",{children:"No differences found."});let e=1,n=0;return u.map(o=>{const r=o.value.split("\n"),l=r.length-1;return r.map((r,a)=>{if(a===l&&""===r)return null;let i=H;o.added?i=J:o.removed&&(i=B);const s=t.jsxs($,{children:[t.jsx(F,{children:e}),t.jsx(R,{as:i,children:r})]},"diff-line-"+n++);return o.removed||e++,s})})})()})]})]})})};export{Y as default};
