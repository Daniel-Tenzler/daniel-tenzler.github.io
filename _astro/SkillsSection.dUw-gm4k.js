import{j as f}from"./emotion-element-f0de968e.browser.esm.Bm6gAZbX.js";import{r as l}from"./index.DatCARk7.js";import{P as S}from"./index.DgWbHfw7.js";import{c as h}from"./emotion-styled-base.browser.esm.udlV9ZuP.js";import{C as k,g as D}from"./Colors.DM1_ZJM0.js";const j=h("section",{target:"e1ky8qg34"})({name:"nyfdx3",styles:"margin-bottom:3rem"}),L=h("h2",{target:"e1ky8qg33"})("margin-bottom:2rem;color:",k.grayLight,";"),C=h("div",{target:"e1ky8qg32"})("background-color:",k.cardSurfaceBackground,";border-radius:0.5rem;box-shadow:0 1px 2px ",D(k.black,.05),";overflow:hidden;padding:1.5rem 0;"),X=h("div",{target:"e1ky8qg31"})("display:inline-block;white-space:nowrap;padding-top:",({reverse:g})=>g?"15px":"0",";will-change:transform;cursor:grab;touch-action:pan-y;"),v=h("span",{target:"e1ky8qg30"})("display:inline-block;padding:0.5rem 1rem;margin:0 0.5rem;background-color:",D(k.black,.3),";border-radius:9999px;font-size:0.875rem;color:",k.white,";font-weight:500;"),O=g=>{const i=l.useRef(null),a=l.useRef(null),d=l.useRef({isDragging:!1,pointerId:null,startX:0,baseOffsetX:0,target:null}),o=l.useRef({requestId:null,lastTimestamp:0}),n=l.useRef({first:0,second:0}),m=l.useRef(!1),c=()=>{i.current&&(i.current.style.transform=`translateX(${n.current.first}px)`),a.current&&(a.current.style.transform=`translateX(${n.current.second}px)`)},u=e=>e?Math.max(1,e.scrollWidth/2):1,y=()=>{const e=u(i.current);let r=n.current.first;if(r=(r%-e+-e)%-e,n.current.first=r,a.current){const s=u(a.current);let t=n.current.second;t=(t%-s+-s)%-s,n.current.second=t}},b=()=>{if(o.current.requestId!=null)return;const e=r=>{o.current.lastTimestamp||(o.current.lastTimestamp=r);const s=r-o.current.lastTimestamp;o.current.lastTimestamp=r;const p=s/1e3*30;d.current.isDragging||(n.current.first-=p,m.current&&a.current&&(n.current.second+=p),y(),c()),o.current.requestId=window.requestAnimationFrame(e)};o.current.requestId=window.requestAnimationFrame(e)},w=()=>{o.current.requestId!=null&&(window.cancelAnimationFrame(o.current.requestId),o.current.requestId=null),o.current.lastTimestamp=0},x=(e,r)=>{const s=r==="first"?i.current:a.current;if(s)try{const t=e.pointerId;e.preventDefault(),s.setPointerCapture(t);const p=e.clientX;s.style.cursor="grabbing";const P=r==="first"?n.current.first:n.current.second;d.current={isDragging:!0,pointerId:t,startX:p,baseOffsetX:P,target:s}}catch{}},T=e=>{const r=d.current;if(!(!r.isDragging||!r.target))try{const s=e.clientX-r.startX,t=r.baseOffsetX+s;r.target===i.current?n.current.first=t:r.target===a.current&&(n.current.second=t),c()}catch{}},I=()=>{const e=d.current;if(!(!e.isDragging||!e.target))try{e.pointerId!=null&&e.target.releasePointerCapture(e.pointerId),e.target.style.cursor="",y(),c()}catch{}finally{d.current={isDragging:!1,pointerId:null,startX:0,baseOffsetX:0,target:null}}};return l.useEffect(()=>{m.current=g,n.current.first=0,n.current.second=0,c()},[g]),l.useEffect(()=>(b(),()=>{w()}),[]),{firstTrackRef:i,secondTrackRef:a,handlePointerDown:x,handlePointerMove:T,endDrag:I}};function M({skills:g}){const[i,a]=l.useState(!1),{firstTrackRef:d,secondTrackRef:o,handlePointerDown:n,handlePointerMove:m,endDrag:c}=O(i);l.useEffect(()=>{const t=()=>{a(window.innerWidth<600)};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[]);const u=Object.values(g).flat(),y=[...u,...u],b=Math.ceil(u.length/2),w=u.slice(0,b),x=u.slice(b),T=[...w,...w],I=[...x,...x],e=(t,p)=>{const P=new Map;return t.map(R=>{const q=(P.get(R)||0)+1;return P.set(R,q),{key:`${p}-${R}-${q}`,label:R}})},r=i?e(T,"first-mobile"):e(y,"first-desktop"),s=e(I,"second-mobile");return f.jsxs(j,{children:[f.jsx(L,{children:"Technologies & Skills"}),f.jsxs(C,{children:[f.jsx(X,{ref:d,onPointerDown:t=>n(t,"first"),onPointerMove:m,onPointerUp:c,onPointerCancel:c,onPointerLeave:c,children:r.map(t=>f.jsx(v,{children:t.label},t.key))}),i&&f.jsx(X,{reverse:!0,ref:o,onPointerDown:t=>n(t,"second"),onPointerMove:m,onPointerUp:c,onPointerCancel:c,onPointerLeave:c,children:s.map(t=>f.jsx(v,{children:t.label},t.key))})]})]})}M.propTypes={skills:S.objectOf(S.arrayOf(S.string)).isRequired};export{M as default};
