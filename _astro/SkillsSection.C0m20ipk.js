import{j as p}from"./emotion-element-f0de968e.browser.esm.Bm6gAZbX.js";import{r as u}from"./index.DatCARk7.js";import{P as I}from"./index.DgWbHfw7.js";import{c as h}from"./emotion-styled-base.browser.esm.udlV9ZuP.js";import{C as b,g as D}from"./Colors.DM1_ZJM0.js";import{u as j}from"./useIsMobile.CZSO_FhP.js";const v=h("section",{target:"e1ky8qg34"})({name:"nyfdx3",styles:"margin-bottom:3rem"}),C=h("h2",{target:"e1ky8qg33"})("margin-bottom:2rem;color:",b.grayLight,";"),O=h("div",{target:"e1ky8qg32"})("background-color:",b.cardSurfaceBackground,";border-radius:0.5rem;box-shadow:0 1px 2px ",D(b.black,.05),";overflow:hidden;padding:1.5rem 0;"),S=h("div",{target:"e1ky8qg31"})("display:inline-block;white-space:nowrap;padding-top:",({reverse:g})=>g?"15px":"0",";will-change:transform;cursor:grab;touch-action:pan-y;"),X=h("span",{target:"e1ky8qg30"})("display:inline-block;padding:0.5rem 1rem;margin:0 0.5rem;background-color:",D(b.black,.3),";border-radius:9999px;font-size:0.875rem;color:",b.white,";font-weight:500;"),L=g=>{const c=u.useRef(null),i=u.useRef(null),f=u.useRef({isDragging:!1,pointerId:null,startX:0,baseOffsetX:0,target:null}),s=u.useRef({requestId:null,lastTimestamp:0}),n=u.useRef({first:0,second:0}),l=u.useRef(!1),a=()=>{c.current&&(c.current.style.transform=`translateX(${n.current.first}px)`),i.current&&(i.current.style.transform=`translateX(${n.current.second}px)`)},x=t=>t?Math.max(1,t.scrollWidth/2):1,k=()=>{const t=x(c.current);let r=n.current.first;if(r=(r%-t+-t)%-t,n.current.first=r,i.current){const e=x(i.current);let o=n.current.second;o=(o%-e+-e)%-e,n.current.second=o}},P=()=>{if(s.current.requestId!=null)return;const t=r=>{s.current.lastTimestamp||(s.current.lastTimestamp=r);const e=r-s.current.lastTimestamp;s.current.lastTimestamp=r;const d=e/1e3*30;f.current.isDragging||(n.current.first-=d,l.current&&i.current&&(n.current.second+=d),k(),a()),s.current.requestId=window.requestAnimationFrame(t)};s.current.requestId=window.requestAnimationFrame(t)},T=()=>{s.current.requestId!=null&&(window.cancelAnimationFrame(s.current.requestId),s.current.requestId=null),s.current.lastTimestamp=0},R=(t,r)=>{const e=r==="first"?c.current:i.current;if(e)try{const o=t.pointerId;t.preventDefault(),e.setPointerCapture(o);const d=t.clientX;e.style.cursor="grabbing";const m=r==="first"?n.current.first:n.current.second;f.current={isDragging:!0,pointerId:o,startX:d,baseOffsetX:m,target:e}}catch{}},w=t=>{const r=f.current;if(!(!r.isDragging||!r.target))try{const e=t.clientX-r.startX,o=r.baseOffsetX+e;r.target===c.current?n.current.first=o:r.target===i.current&&(n.current.second=o),a()}catch{}},y=()=>{const t=f.current;if(!(!t.isDragging||!t.target))try{t.pointerId!=null&&t.target.releasePointerCapture(t.pointerId),t.target.style.cursor="",k(),a()}catch{}finally{f.current={isDragging:!1,pointerId:null,startX:0,baseOffsetX:0,target:null}}};return u.useEffect(()=>{l.current=g,n.current.first=0,n.current.second=0,a()},[g]),u.useEffect(()=>(P(),()=>{T()}),[]),{firstTrackRef:c,secondTrackRef:i,handlePointerDown:R,handlePointerMove:w,endDrag:y}};function M({skills:g}){const c=j(600),{firstTrackRef:i,secondTrackRef:f,handlePointerDown:s,handlePointerMove:n,endDrag:l}=L(c),a=Object.values(g).flat(),x=[...a,...a],k=Math.ceil(a.length/2),P=a.slice(0,k),T=a.slice(k),R=[...P,...P],w=[...T,...T],y=(e,o)=>{const d=new Map;return e.map(m=>{const q=(d.get(m)||0)+1;return d.set(m,q),{key:`${o}-${m}-${q}`,label:m}})},t=c?y(R,"first-mobile"):y(x,"first-desktop"),r=y(w,"second-mobile");return p.jsxs(v,{children:[p.jsx(C,{children:"Technologies & Skills"}),p.jsxs(O,{children:[p.jsx(S,{ref:i,onPointerDown:e=>s(e,"first"),onPointerMove:n,onPointerUp:l,onPointerCancel:l,onPointerLeave:l,children:t.map(e=>p.jsx(X,{children:e.label},e.key))}),c&&p.jsx(S,{reverse:!0,ref:f,onPointerDown:e=>s(e,"second"),onPointerMove:n,onPointerUp:l,onPointerCancel:l,onPointerLeave:l,children:r.map(e=>p.jsx(X,{children:e.label},e.key))})]})]})}M.propTypes={skills:I.objectOf(I.arrayOf(I.string)).isRequired};export{M as default};
