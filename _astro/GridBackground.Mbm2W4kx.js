import{j as e}from"./emotion-element-f0de968e.browser.esm.mznZwknT.js";import{r as t}from"./index.CxjelfC8.js";import{g as n,C as r}from"./Colors.DSKoPjbV.js";import{s as o}from"./emotion-styled.browser.esm.ckLy0KKp.js";const i=o.canvas`
	position: fixed;
	top: 0;
	left: 0;
	z-index: -1;
	pointer-events: none;
`;function s(){const o=t.useRef(null),s=t.useRef({x:-9999,y:-9999}),c=t.useRef(null),a=t.useRef(0),l=t.useRef(!0),u=t.useCallback(e=>{if(!l.current)return void(c.current=requestAnimationFrame(u));if(e-a.current<33)return void(c.current=requestAnimationFrame(u));a.current=e;const t=o.current;if(!t)return;const i=t.getContext("2d"),{width:m,height:d}=t;i.clearRect(0,0,m,d);const f=.5,h=200,w=n(r.WHITE_BFBFBF,.1),v=s.current.x,b=s.current.y;for(let n=0;n<=m;n+=40){const e=Math.abs(v-n);if(e<h){const t=f+1.5*Math.max(0,1-e/h);i.beginPath(),i.moveTo(n,0),i.lineTo(n,d),i.lineWidth=t,i.strokeStyle=w,i.stroke()}else i.beginPath(),i.moveTo(n,0),i.lineTo(n,d),i.lineWidth=f,i.strokeStyle=w,i.stroke()}for(let n=0;n<=d;n+=40){const e=Math.abs(b-n);if(e<h){const t=f+1.5*Math.max(0,1-e/h);i.beginPath(),i.moveTo(0,n),i.lineTo(m,n),i.lineWidth=t,i.strokeStyle=w,i.stroke()}else i.beginPath(),i.moveTo(0,n),i.lineTo(m,n),i.lineWidth=f,i.strokeStyle=w,i.stroke()}c.current=requestAnimationFrame(u)},[]);return t.useEffect(()=>{const e=o.current;if(!e)return;const t=()=>{e.width=window.innerWidth,e.height=window.innerHeight};let n;t(),"requestIdleCallback"in window?requestIdleCallback(()=>{c.current=requestAnimationFrame(u)}):c.current=requestAnimationFrame(u);const r=()=>{clearTimeout(n),n=setTimeout(()=>{t()},150)};let i=!1;const a=e=>{i||(i=!0,"requestIdleCallback"in window?requestIdleCallback(()=>{s.current={x:e.clientX,y:e.clientY},i=!1}):setTimeout(()=>{s.current={x:e.clientX,y:e.clientY},i=!1},16))},m=new IntersectionObserver(e=>{e.forEach(e=>{l.current=e.isIntersecting})},{threshold:.1});return m.observe(e),window.addEventListener("resize",r),window.addEventListener("mousemove",a),()=>{window.removeEventListener("resize",r),window.removeEventListener("mousemove",a),m.disconnect(),c.current&&cancelAnimationFrame(c.current),n&&clearTimeout(n)}},[u]),e.jsx(i,{ref:o})}export{s as default};
